# generated: 2026-02-04
# project: open-notebook
# project_key: NOKEY
# tracking_system: file-system
# story_location: _bmad-output/implementation-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#
# Epic Status Transitions:
#   - backlog -> in-progress: Automatically when first story is created (via create-story)
#   - in-progress -> done: Manually when all stories reach 'done' status
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created in stories folder
#   - in-progress: Developer actively working on implementation
#   - review: Ready for code review (via Dev's code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - done: Retrospective has been completed
#
# WORKFLOW NOTES:
# ===============
# - Epic transitions to 'in-progress' automatically when first story is created
# - Stories can be worked in parallel if team capacity allows
# - SM typically creates next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then runs code-review (fresh context, different LLM recommended)

generated: 2026-02-04
project: open-notebook
project_key: NOKEY
tracking_system: file-system
story_location: _bmad-output/implementation-artifacts

development_status:
  # Epic 1: Authentication & User Identity
  epic-1: in-progress
  1-1-user-registration-and-login-backend: review
  1-2-role-based-access-control-and-route-protection: in-progress
  1-3-admin-creates-learner-accounts: review
  1-4-learner-onboarding-questionnaire: ready-for-dev
  epic-1-retrospective: optional

  # Epic 2: Company Management & Module Assignment
  epic-2: in-progress
  2-1-company-management: done
  2-2-module-assignment-to-companies: done
  2-3-module-lock-unlock-and-learner-visibility: done  # All ACs implemented, tests complete, code review fixes applied
  epic-2-retrospective: optional

  # Epic 3: Module Creation & Publishing Pipeline
  epic-3: in-progress
  3-1-module-creation-and-document-upload: done  # Code review complete, all issues fixed, approved for merge
  3-2-artifact-generation-and-preview: in-progress  # Implementation started
  3-3-learning-objectives-configuration: in-progress  # Code review complete: 6 issues fixed, 2 HIGH issues remain (Story 3.4 contamination + backend tests deferred)
  3-4-ai-teacher-prompt-configuration: review  # All 8 tasks complete: Backend (Migration 24, ModulePrompt, API, prompt assembly) + Frontend (ModulePromptEditor, hooks, pipeline integration, E2E testing)
  3-5-module-publishing: done  # Code review complete: All ACs met, 6/6 blocking issues fixed, comprehensive tests (8 backend + 5 frontend)
  3-6-edit-published-module: in-progress  # Comprehensive story created: Unpublish endpoint, edit mode pipeline, progress preservation, NO NEW MIGRATION
  3-7-admin-ai-chatbot-assistant: review  # Story created: Admin AI assistant for module creation help, reuses chat workflow with custom prompt
  epic-3-retrospective: optional

  # Epic 4: Learner AI Chat Experience
  epic-4: in-progress
  4-1-learner-chat-interface-and-sse-streaming: done  # Code review complete: All 4 ACs met, 13 issues found (5 HIGH + 5 MEDIUM + 3 LOW), all HIGH + MEDIUM fixed, 8 backend tests added, streaming cursor + auto-scroll + type safety + security hardening
  4-2-two-layer-prompt-system-and-proactive-ai-teacher: done  # Code review complete: 14 issues found (8 HIGH + 4 MEDIUM + 2 LOW), 10 resolved (6 code/test + 4 documentation), all ACs met via prompt engineering, tests passing (13 prompt assembly + 8 greeting)
  4-3-inline-document-snippets-in-chat: done  # Code review complete: All ACs met, 13 issues found (4 HIGH + 5 MEDIUM + 4 LOW), 7 resolved (4 HIGH + 3 MEDIUM code fixes), tests added (5 backend + 10 frontend), security documentation, error handling, memory leak fixed
  4-4-learning-objectives-assessment-and-progress-tracking: done  # All tasks complete: Backend (Migration 22, domain model, check_off_objective tool, API progress endpoint) + Frontend (ObjectiveProgressList, AmbientProgressBar, SSE parser, inline confirmation via toast) + Tests (18 frontend tests passing)
  4-5-adaptive-teaching-and-fast-track-for-advanced-learners: done  # Code review complete: 14 issues found (8 HIGH + 4 MEDIUM + 2 LOW), all HIGH issues fixed (API model extension, type safety, test coverage, frontend tests). Adaptive teaching via prompt engineering, multiple objective check-offs, module suggestions, 10 backend + 5 frontend tests passing.
  4-6-ai-surfaces-artifacts-in-conversation: done  # All 7 tasks complete: Backend (surface_quiz/surface_podcast tools, prompt injection, 7 tests) + Frontend (InlineQuizWidget, InlineAudioPlayer, ChatPanel integration, 42 tests) + API (company-scoped endpoints). All ACs verified via unit/integration tests.
  4-7-async-task-handling-in-chat: review  # All tasks complete: generate_artifact tool, AsyncStatusBar component, useJobStatus polling hook, ChatPanel integration, SSE event detection, toast notifications, 18 backend tests + 50+ frontend tests, all ACs verified
  4-8-persistent-chat-history: done  # Code review complete: 10 issues found (5 HIGH + 3 MEDIUM + 2 LOW), 8 resolved (test fixes, code simplification, error handling, comment updates). Backend (Thread ID, re-engagement, history endpoint, pagination) + Frontend (ChatPanel history loading, scroll behavior, i18n), 14 backend tests passing (100%), all 3 ACs verified
  epic-4-retrospective: optional

  # Epic 5: Content Browsing & Learning Progress
  epic-5: in-progress
  5-1-sources-panel-with-document-browsing: done  # Code review complete: All HIGH and MEDIUM issues fixed (accordion comment, File List updated with cross-story dependencies), all ACs met, 10 backend + 30 frontend tests passing
  5-2-artifacts-browsing-in-side-panel: done  # Code review complete: 7 issues fixed (backend integration tests, cache invalidation, error state UI, i18n). All 3 ACs met, 32 backend tests + 37 frontend tests passing.
  5-3-learning-progress-display: done  # Code review complete: 8 issues found (3 HIGH + 3 MEDIUM + 2 LOW), 6 fixed (greeting bug, type safety, timer cleanup, test quality). All ACs met, 11/11 tests passing warning-free.
  epic-5-retrospective: optional

  # Epic 6: Platform Navigation & Voice Input
  epic-6: in-progress
  6-1-platform-wide-ai-navigation-assistant: in-progress
  6-2-voice-to-text-input: done  # Code review complete: 8 issues found (5 MEDIUM + 3 LOW), all fixed and tested. Browser-native Speech API implementation. 30 tests passing (15 hook + 15 integration). Fixes: interim results bug, transcript clearing, race condition protection, permission UX, accessibility. All ACs verified.
  epic-6-retrospective: optional

  # Epic 7: Error Handling, Observability & Data Privacy
  epic-7: in-progress
  7-1-graceful-error-handling-and-user-friendly-messages: done  # Code review complete: 11 issues found (8 HIGH + 5 MEDIUM + 3 LOW), 8 resolved via auto-fix (i18n refactor, comprehensive error mappings, prompt repositioning, interceptor docs, ARIA docs). All 4 ACs verified. 41 tests passing (15 backend + 26 frontend). Remaining: File List cleanup, integration tests (accepted as manual QA).
  7-2-structured-contextual-error-logging: in-progress  # Comprehensive story created: Request context tracking (contextvars), rolling context buffer, structured JSON logging, request lifecycle middleware, LangGraph instrumentation, global exception handlers, frontend error collection, admin debug endpoint
  7-3-admin-error-notifications: in-progress  # Comprehensive story created: Pluggable notification backend (webhook, Slack, email), async delivery with retry, NotificationPayload with context buffer, deduplication (5min window, LRU cache), integration with Story 7.2 exception handlers, health check endpoint, graceful failure handling
  7-4-langsmith-llm-tracing-integration: review  # All 7 tasks complete: LangSmith callback handler (8 unit tests passing), 9 workflows instrumented (chat, navigation, source processing, transformations, objectives, notes, search), configuration docs enhanced, 13 tests passing (8 unit + 5 integration), all ACs verified
  7-5-per-company-data-isolation-audit: backlog
  7-6-user-and-company-data-deletion: backlog
  7-7-token-usage-tracking: backlog
  7-8-learner-transparency-details-view: backlog
  epic-7-retrospective: optional
