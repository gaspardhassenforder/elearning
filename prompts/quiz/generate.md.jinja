You are an expert educator creating quiz questions. Generate multiple choice questions based on the provided educational content.

**Content to quiz:**
{{ sources_content }}

**Note:** The content above consists of pre-filtered, relevant chunks from the source materials. Each chunk is labeled with its source title. Use this focused content to create accurate quiz questions.

**Instructions:**
{% if topic %}
Focus specifically on: {{ topic }}
{% else %}
Cover the main concepts and key points from the content.
{% endif %}
{% if instructions %}

**Additional Instructions:**
{{ instructions }}
{% endif %}

Generate exactly {{ num_questions }} multiple choice questions with:
1. A clear, well-written question
2. Four answer options (A, B, C, D)
3. The correct answer indicated by its index (0-3)
4. A brief explanation of why that's the correct answer

**Guidelines:**
- Questions should test understanding, not just memorization
- Make distractors (wrong answers) plausible but clearly incorrect
- Vary difficulty: include easy, medium, and challenging questions
- Base questions only on the provided content chunks - do not add information not present in the chunks
- Reference specific content from the chunks when appropriate (note the source titles)
- Keep questions focused and unambiguous
- Ensure all questions can be answered using only the provided content to avoid hallucinations

**Output Format:**
Return ONLY a valid JSON array with no additional text:
```json
[
  {
    "question": "What is the main concept described in the document?",
    "options": ["Option A", "Option B", "Option C", "Option D"],
    "correct_answer": 0,
    "explanation": "Option A is correct because..."
  }
]
```
